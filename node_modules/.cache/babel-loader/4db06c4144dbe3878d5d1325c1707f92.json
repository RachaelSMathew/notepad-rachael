{"ast":null,"code":"var _jsxFileName = \"/Users/rachaelmathew/Desktop/Firebase_user_auth/src/components/Notebook/Notebook.js\",\n    _s = $RefreshSig$();\n\n// components/Notebook/NoteAdd.js\nimport React, { useState, useEffect } from \"react\";\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/database\";\nimport \"./Notebook.css\";\nimport ShowMoreText from \"react-show-more-text\";\nimport { useAuthValue } from '../../AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Notebook = props => {\n  _s();\n\n  const {\n    currentUser\n  } = useAuthValue();\n  const [notebookData, setNotebook] = useState(props.notebook);\n\n  const emailExists = (notes, email) => {\n    return notes.includes(email);\n  };\n\n  const handleData = (e, id, notePublic) => {\n    var result = [...notebookData];\n    result = result.map(x => {\n      //x == note \n      if (x.id === id) {\n        if (!x.heart) {\n          x.heart = [currentUser === null || currentUser === void 0 ? void 0 : currentUser.email];\n          return x;\n        } else {\n          if (emailExists(x.heart, currentUser === null || currentUser === void 0 ? void 0 : currentUser.email)) {\n            x.heart = x.heart.filter(email => email !== (currentUser === null || currentUser === void 0 ? void 0 : currentUser.email));\n\n            if (notePublic) {\n              firebase.database().ref(\"notebook/public/\" + id).update({\n                heart: x.heart\n              });\n            } else {\n              firebase.database().ref(\"notebook/\" + (currentUser === null || currentUser === void 0 ? void 0 : currentUser.email) + id).update({\n                heart: x.heart\n              });\n            }\n\n            return x;\n          } else {\n            x.heart.push(currentUser === null || currentUser === void 0 ? void 0 : currentUser.email);\n\n            if (notePublic) {\n              firebase.database().ref(\"notebook/public/\" + id).update({\n                heart: x.heart\n              });\n            } else {\n              firebase.database().ref(\"notebook/\" + (currentUser === null || currentUser === void 0 ? void 0 : currentUser.email) + id).update({\n                heart: x.heart\n              });\n            }\n\n            return x;\n          }\n        }\n      }\n\n      return x;\n    });\n    setNotebook(result);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"notebook-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"notebook\",\n        children: props.notebook.map((note, index) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${note.public ? \"notebookInfo publicPost\" : \"notebookInfo\"}`,\n            children: [note.public && note.email !== (currentUser === null || currentUser === void 0 ? void 0 : currentUser.email) ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"notebookInfo-user\",\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"tooltip\",\n                children: [note.avatar, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  class: \"tooltiptext\",\n                  children: note.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 56,\n                  columnNumber: 59\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 19\n            }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"notebookInfo-title\",\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: /*#__PURE__*/_jsxDEV(ShowMoreText, {\n                  lines: 3,\n                  width: 340,\n                  keepNewLines: true,\n                  children: note.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"notebookInfo-description\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: /*#__PURE__*/_jsxDEV(ShowMoreText, {\n                  lines: 3,\n                  width: 340,\n                  keepNewLines: true,\n                  children: note.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 22\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"extraNotes\",\n              children: [note.public ? /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"public-text\",\n                children: \"\\uD83C\\uDF0E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"public-text\",\n                children: \"\\uD83D\\uDD12\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 22\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"button\",\n                className: \"checkmark\",\n                value: emailExists(note.heart, currentUser === null || currentUser === void 0 ? void 0 : currentUser.email) ? \"❤️\" : \"🤍\",\n                onClick: e => handleData(e, note.id, note.public)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, this)]\n          }, note.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 15\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(Notebook, \"eeDiQCAy5Ek9BHMB2oqs5JZILIo=\", false, function () {\n  return [useAuthValue];\n});\n\n_c = Notebook;\nexport default Notebook;\n\nvar _c;\n\n$RefreshReg$(_c, \"Notebook\");","map":{"version":3,"sources":["/Users/rachaelmathew/Desktop/Firebase_user_auth/src/components/Notebook/Notebook.js"],"names":["React","useState","useEffect","firebase","ShowMoreText","useAuthValue","Notebook","props","currentUser","notebookData","setNotebook","notebook","emailExists","notes","email","includes","handleData","e","id","notePublic","result","map","x","heart","filter","database","ref","update","push","note","index","public","avatar","title","description"],"mappings":"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","sourcesContent":["// components/Notebook/NoteAdd.js\nimport React, { useState, useEffect } from \"react\";\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/database\";\nimport \"./Notebook.css\";\nimport ShowMoreText from \"react-show-more-text\";\nimport {useAuthValue} from '../../AuthContext'\n\nconst Notebook = (props) => {\n \n  const {currentUser} = useAuthValue()\n  const [notebookData, setNotebook] = useState(props.notebook);\n  const emailExists = (notes, email) => {\n    return notes.includes(email)\n  };\n  const handleData = (e, id, notePublic) => {\n    var result = [...notebookData];\n    result = result.map((x) => { //x == note \n      \n      if (x.id === id) {\n        if(!x.heart) {\n          x.heart = [currentUser?.email]\n          return x;\n        } else {\n          if(emailExists(x.heart, currentUser?.email)) {\n            x.heart = x.heart.filter((email) => email !== currentUser?.email)\n            if(notePublic) {\n              firebase.database().ref(\"notebook/public/\"+id).update({heart: x.heart})\n            } else {\n              firebase.database().ref(\"notebook/\"+currentUser?.email+id).update({heart: x.heart})\n            }\n            return x;\n          } else {\n            x.heart.push(currentUser?.email)\n            if(notePublic) {\n              firebase.database().ref(\"notebook/public/\"+id).update({heart: x.heart})\n            } else {\n              firebase.database().ref(\"notebook/\"+currentUser?.email+id).update({heart: x.heart})\n            }\n            return x;\n          }\n        }\n      } return x;\n    });\n    setNotebook(result);\n  };\n  return (\n    <>\n      <section className=\"notebook-container\">\n        <div className=\"notebook\">\n          {props.notebook.map((note, index) => (\n            <React.Fragment key={index}>\n              <div className={`${note.public ? \"notebookInfo publicPost\" : \"notebookInfo\"}`} key={note.id}>\n              {note.public  && note.email !== currentUser?.email ? (\n                  <div className=\"notebookInfo-user\">\n                    <h3 className=\"tooltip\">{note.avatar} <span class=\"tooltiptext\">{note.email}</span></h3>\n                    \n                  </div>\n                ) : (\n                  null\n                )}\n                <div className=\"notebookInfo-title\">\n                  <h3><ShowMoreText lines={3} width={340} keepNewLines={true}>{note.title}</ShowMoreText></h3>\n                </div>\n                <div className=\"notebookInfo-description\">\n                  <p><ShowMoreText lines={3} width={340} keepNewLines={true}>{note.description}</ShowMoreText></p>\n                </div>\n                <div className=\"extraNotes\">\n                {note.public ? (\n                  <h3 className=\"public-text\">🌎</h3> \n                ) : (<h3 className=\"public-text\">🔒</h3>)}\n                <input\n                  type=\"button\"\n                  className=\"checkmark\"\n                  value={emailExists(note.heart, currentUser?.email) ? \"❤️\":\"🤍\"}\n                  onClick={(e) => handleData(e, note.id, note.public)} />    \n                </div>            \n              </div>\n            </React.Fragment> \n          ))}\n        </div>\n      </section>\n    </>\n  );\n};\n\nexport default Notebook;"]},"metadata":{},"sourceType":"module"}